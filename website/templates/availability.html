{% extends "base.html" %}

{% block title %}Unit Availability{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 style="margin-bottom: 15px;" class="text-center">Manage Unit Availability</h2>
    {% for unit in units %}
        <form method="POST" action="{{ url_for('views.update_availability', unit_id=unit.id) }}">
            <div style="background-color: rgb(173, 170, 170); border-radius: 20px; border-color: rgb(199, 200, 201); border-width: 2px;" class="card mb-3">
                <div class="card-body">
                    <h5 style="font-weight: bold;" class="card-title">Unit: <span style="font-weight: normal;">{{ unit.unit }}</span></h5>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="available{{ unit.id }}" name="available" value="true" onchange="this.form.submit()" {{ 'checked' if unit.available else '' }}>
                        <label class="form-check-label" for="available{{ unit.id }}">
                            {{ 'Available' if unit.available else 'Not Available' }}
                        </label>
                    </div>
                </div>
            </div>
        </form>
    {% endfor %}
    <div class="back-button-container">
        <a style="border-radius: 20px;" href="{{ url_for('views.userpage') }}" class="btn btn-secondary">Back</a>
    </div>
</div>
{% endblock %}